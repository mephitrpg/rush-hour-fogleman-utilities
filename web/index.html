<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Rush Hour</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.1/p5.min.js"></script>
        <script src="app.js?bust=3"></script>
        <script src="common-functions.js"></script>
        <script src="app-editor.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css?bust=3">
        <link rel="stylesheet" type="text/css" href="style-editor.css">
    </head>
    <body>
        <div id="view"></div>
        <div class="footer">
            <div class="info">
                <span class="label">Moves:</span>
                <span class="value" id="numMoves">0</span>
                <span class="label" id="movesRequired"></span>
            </div>
            <div class="buttons">
                <button id="randomButton">Random</button>
                <button id="resetButton">Reset</button>
                <button id="undoButton">Undo</button>
            </div>
        </div>
        <div id="editor" class="editor" style="display: none;">
            <p>
                <b>Map</b>
            </p>
            <p>
                <label><input type="radio" name="syntax" value="michael" checked> "This App" syntax</label><br>
                <label><input type="radio" name="syntax" value="rush"> "Rush Hour" syntax</label><br>
            </p>
            <p>
                <div style="display: flex;">
                    <div>
                        <textarea id="map-textarea" class="map-textarea" spellcheck="false"></textarea>
                    </div>
                    <div style="margin-left: 8px;">
                        You can use this editor to render the hash of an already existing problem.<br>
                        <br>
                        Useful to replicate a phisical card so you can copy its hash.
                    </div>
                </div>
            </p>
            <p>
                <div style="display: flex;">
                    <button id="copyHash" style="flex-grow: 1;">Copy hash</button>
                </div>
            </p>
            <p><fieldset style="background-color: #f0f0f0"><legend>Moves</legend>
                When you render the map using this editor, the "required moves" amount is only supported if you fill this field.<br>
                <span style="display: flex; width: 100%; margin-top: 8px;">
                    <textarea id="solution-textarea" class="solution-textarea" style="flex-grow: 1;" rows="3" spellcheck="false" placeholder="Insert map's solution generated using the command-line scripts"></textarea>
                </span>
                <span style="display: flex; margin-top: 8px;">
                    <button onClick="onConvertButtonClick();" style="flex-grow: 1;">Convert to Rush Hour</button>
                </span>
                <span style="display: flex; margin-top: 8px;">
                    <button onClick="onCopySolutionClick();" style="flex-grow: 1;">Copy solution</button>
                </span>
            </fieldset></p>
            <p>
                <div style="display: flex; justify-content: space-between;">
                    <button id="defaultMap" style="flex-grow: 1;">Default</button>
                    <button id="emptyMap" style="flex-grow: 1;">Empty</button>
                    <button id="renderMap" style="flex-grow: 1;">Render</button>
                </div>
            </p>
            <p>
                <b>"This App" syntax</b>
            </p>
            <blockquote style="background: #f0f0f0; margin-left: 0; margin-right: 0; padding: 1em;">
                […] The board description is a 36-character string representing the state of the unsolved board. It is a 6x6 2D array in row-major order. The characters in the description follow these simple rules:
                <ul>
                <li><b>o</b> empty cell</li>
                <li><b>x</b> wall (fixed obstacle)</li>
                <li><b>A</b> primary piece (red car)</li>
                <li><b>B - Z</b> all other pieces</li>
                </ul>
                I used lowercase o instead of periods . for the empty cells in the database so that the entire board description can be selected with a double-click. My code can parse either format. […]
            </blockquote>
            <p>
                <a href="https://www.michaelfogleman.com/rush/" target="_blank">Documentation</a>
            </p>
</div>
    </body>
</html>
